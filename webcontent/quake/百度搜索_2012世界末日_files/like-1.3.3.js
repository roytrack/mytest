var bds=bds||{};bds.se=bds.se||{};bds.se.like=bds.se.like||{};bds.se.like.tip=(function(){var G=baidu.g("floatTip"),E=false,D=null,B=null;if(G){baidu.on(G,"mouseover",function(){window.clearTimeout(D);E=true});baidu.on(G,"mouseout",function(){E=false;C()});baidu.event.on(baidu.g("sharelink"),"mousedown",function(){c({fm:"like",url:"http://www.baidu.com/like",tab:"help_link"})});baidu.event.on(document,"mousedown",function(I){I=I||window.event;var H=I.target||I.srcElement;while(H&&H!=document.body&&H.tagName.toLowerCase()!="html"){if(H==G||H.className=="likenum"){break}H=H.parentNode}if(H!=G&&H.className!="likenum"){bds.se.like.tip.doHide()}});var A=function(H){window.clearTimeout(D);var I=baidu.dom.getPosition(H);B=setTimeout(function(){baidu.g("floatTipDesc").getElementsByTagName("span")[0].innerHTML=baidu.dom.getAttr(H,"data-num");baidu.dom.setStyles(G,{top:baidu.dom.getPosition(H)["top"]+17+"px",left:baidu.dom.getPosition(H)["left"]+10+"px"});baidu.dom.setStyle(G,"display","block");if(baidu.dom.getAttr(H,"data-log")=="0"){c({fm:"like",url:"http://www.baidu.com/like",tab:"tip_ap"});baidu.dom.setAttr(H,"data-log","1")}},200)};var F=function(){baidu.dom.setStyle(G,"display","none")};var C=function(){window.clearTimeout(B);D=setTimeout(function(){if(E){return }F()},500)};return{show:A,hide:C,doHide:F}}})();bds.se.like.currentTip="";bds.se.like.LikeLabel=function(A){this.id=A.id;this.domNode=A.domNode;this.value=A.value;this.lower=A.lower||0;this.showTip=false;var C=this.domNode;this.setNum=function(D){this.value=D;var F=D+"",E="";if(+D<=this.lower){return }if(D>=100000000){F=B(D/100000000,1)+"";E="вк"}else{if(D>=10000){F=B(D/10000,1)+"";E="Эђ"}}var G=F.length+(E?2:0);if(this.domNode&&D){this.domNode.className="likenum";this.domNode.innerHTML="<div class='likebox'><span class='likepre'></span><span style='font-size:11px' class='liketext liketext_"+((G<=4)?"min":"max")+"'>"+F+E+"</span><span class='likesuf'></span></div>";this.domNode.style.width=((G<=4)?70:90)+"px";this.domNode.style.display="inline-block";baidu.dom.setAttr(this.domNode,"data-num",F+E);baidu.dom.setAttr(this.domNode,"data-log","0");baidu.event.on(this.domNode,"mouseover",(function(H){return function(){bds.se.like.tip.show(H.domNode)}})(this));baidu.event.on(this.domNode,"mouseout",function(){bds.se.like.tip.hide()})}};var B=function(G,E){G=G.toString();var D=G.indexOf(".");if(D>-1){G=G.substring(0,D+E+1);var F=G.charAt(G.length-1);while((F=="0"||F==".")&&(G.indexOf(".")>-1)){G=G.substring(0,G.length-2);F=G.charAt(G.length-1);if(G.indexOf(".")==-1){break}}}return G};this.setNum(this.value)};bds.se.like.giveData=function(A){function B(E,F,D){if(window.attachEvent){E.attachEvent("on"+F,D)}else{if(window.addEventListener){E.addEventListener(F,D,false)}}}for(key in A.data){var C=document.getElementById("like_"+key);new bds.se.like.LikeLabel({id:key,domNode:C,value:A.data[key],lower:2});B(C,"mousedown",(function(E,D){return function(){return c({fm:"like",title:D,url:"http://www.baidu.com/like",p1:al_c(E)})}})(C,A.data[key]))}};bds.se.like.init=(function(){var B=[],D=document.getElementsByTagName("SPAN"),G="like_".length;for(var C=0,A=D.length;C<A;C++){var F=D[C];if(F.className=="liketip"){B.push(F.id.substr(G))}}if(B.length>0){var E=document.createElement("script");E.src="http://share.baidu.com/getsharenum?urls="+B.join(",")+"&callback=bds.se.like.giveData";document.body.appendChild(E)}})();